<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self'; 
                   script-src 'self' 'unsafe-inline' https://maps.googleapis.com https://maps.gstatic.com; 
                   style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; 
                   img-src 'self' https: data: blob:; 
                   font-src 'self' https://fonts.gstatic.com; 
                   connect-src 'self' https://maps.googleapis.com;">
    <title>Korea hidden gem - Kotreet</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="homePage">
    <header>
    <button class="hamburger-btn" onclick="openSideMenu()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </button>
    <img class="logo" src="/img/logo.png" alt="Kotreet" onclick="window.location.href='/'">
    <div style="width:24px;"></div>
</header>

<!-- 사이드 메뉴 -->
    <div id="sideMenu" class="side-menu">
        <div class="side-menu-overlay" onclick="closeSideMenu()"></div>
        <div class="side-menu-content">
            <div class="side-menu-header">
                <img class="side-menu-logo" src="/img/logo.png" alt="Kotreet" onclick="window.location.href='/'">
                <button class="side-menu-close" onclick="closeSideMenu()">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="24" y1="8" x2="8" y2="24"></line>
                        <line x1="8" y1="8" x2="24" y2="24"></line>
                    </svg>
                </button>
            </div>
            
            <div class="side-menu-body">
                <nav class="side-menu-nav">
                    <!-- 전체 보기 -->
                    <div class="side-menu-item" onclick="window.location.href='category_all.html'">
    <span>전체 보기</span>
</div>
                    
                    <!-- 지역별 보기 -->
                    <div class="side-menu-section">
                        <div class="side-menu-section-title" onclick="window.location.href='category_all_region.html'">지역별 보기</div>
                        <div class="side-menu-item" onclick="window.location.href='category.html?location=홍대'">
                            <span>홍대</span>
                        </div>
                        <div class="side-menu-item" onclick="window.location.href='category.html?location=명동'">
                            <span>명동</span>
                        </div>
                        <div class="side-menu-item" onclick="window.location.href='category.html?location=강남'">
                            <span>강남</span>
                        </div>
                        <div class="side-menu-item" onclick="window.location.href='category.html?location=성수'">
                            <span>성수</span>
                        </div>
                    </div>
                    
                    <!-- 카테고리별 보기 -->
                    <div class="side-menu-section">
                        <div class="side-menu-section-title" onclick="window.location.href='category_all_category.html'">카테고리별 보기</div>
                        <div class="side-menu-item" onclick="window.location.href='category_type.html?category=nail'">
                            <span>네일샵</span>
                        </div>
                        <div class="side-menu-item" onclick="window.location.href='category_type.html?category=glasses'">
                            <span>안경점</span>
                        </div>
                        <div class="side-menu-item" onclick="window.location.href='category_type.html?category=dessert'">
                            <span>디저트 카페</span>
                        </div>
                        <div class="side-menu-item" onclick="window.location.href='category_type.html?category=hanbok'">
                            <span>한복 대여</span>
                        </div>
                        <div class="side-menu-item" onclick="window.location.href='category_type.html?category=vintage'">
                            <span>음식점</span>
                        </div>
                        <div class="side-menu-item" onclick="window.location.href='category_type.html?category=goods'">
                            <span>굿즈샵</span>
                        </div>
                    </div>
                    <!-- 제휴 문의 -->
                      <div class="side-menu-section">
                        <div class="side-menu-section-title" onclick="window.location.href='partnership.html?category=nail'">제휴 문의</div>
                        </div>
                </nav>
            </div>
        </div>
    </div>
    

      <section class="search-section"></section>
      <div class="search-box-wrapper">
         <button class="search-box" id="searchInput" onclick="openSearchModal()">
            <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"
             aria-hidden="true" role="presentation" focusable="false">
            <path d="M13 0a13 13 0 0 1 10.5 20.67l7.91 7.92-2.82 2.82-7.92-7.91A12.94 12.94 0 0 1 13 26a13 13 0 1 1 0-26zm0 4a9 9 0 1 0 0 18 9 9 0 0 0 0-18z"></path>
        </svg>
        <span class="search-placeholder">검색을 시작해보세요</span>
    </button>
</div>

        <section class="title-section">
            <h2 style="cursor: pointer;" onclick="window.location.href='category_all_region.html'">어디를 찾으시나요?</h2>
            <div class="scroll-container" id="locationScroll">
                <div class="location-card" onclick="window.location.href='category.html?location=홍대'">
                    <img src="/img/main_hongdae.jpg" alt="홍대">
                    <div class="label">홍대</div>
                </div>
                <div class="location-card" onclick="window.location.href='category.html?location=명동'">
                    <img src="/img//main_myeongdong.jpg" alt="명동">
                    <div class="label">명동</div>
                </div>
                <div class="location-card" onclick="window.location.href='category.html?location=강남'">
                    <img src="/img/main_gangnam.jpg" alt="강남">
                    <div class="label">강남</div>
                </div>
                <div class="location-card" onclick="window.location.href='category.html?location=성수'">
                    <img src="/img/main_seongsu.jpg" alt="성수">
                    <div class="label">성수</div>
                </div>
            </div>
        </section>

        <section class="category-section">
    <div class="category-grid">
        <!-- 네일샵 -->
        <div class="category-item" onclick="window.location.href='category_type.html?category=nail'">
            <div class="category-icon">
                <img src="img/nail.png">
            </div>
            <div class="category-label">네일샵</div>
        </div>
        
        <!-- 안경점 -->
        <div class="category-item" onclick="window.location.href='category_type.html?category=glasses'">
            <div class="category-icon">
                <img src="img/glasses.png">
            </div>
            <div class="category-label">안경점</div>
        </div>
        
        <!-- 디저트 카페 -->
        <div class="category-item" onclick="window.location.href='category_type.html?category=dessert'">
            <div class="category-icon">
                <img src="img/dessert.png">
            </div>
            <div class="category-label">디저트 카페</div>
        </div>
        
        <!-- 한복 대여 -->
        <div class="category-item" onclick="window.location.href='category_type.html?category=hanbok'">
            <div class="category-icon">
                <img src="img/hanbok.png">
            </div>
            <div class="category-label">한복 대여</div>
        </div>
        
        <!-- 음식점 -->
        <div class="category-item" onclick="window.location.href='category_type.html?category=vintage'">
            <div class="category-icon">
                <img src="img/vintage.png">
            </div>
            <div class="category-label">음식점</div>
        </div>
        
        <!-- 굿즈샵 -->
        <div class="category-item" onclick="window.location.href='category_type.html?category=goods'">
            <div class="category-icon">
                <img src="img/goods.png">
            </div>
            <div class="category-label">굿즈샵</div>
        </div>
    </div>
</section>

        <section class="banner-section">
            <img class="banner-image" src="img/main_banner.jpg" alt="배너">
        </section>

        <section class="popular-section">
            <h3>🔥 가장 많이 본 가게</h3>
            <div class="popular-scroll" id="popularScroll"></div>
        </section>

    <div id="footer-container"></div>
</div>

    <!-- 검색 모달 -->
    <div id="searchModal" class="search-modal hidden">
        <div class="search-modal-header">
            <input type="text" class="search-modal-input" id="searchModalInput" placeholder="검색어를 입력하세요">
            <button class="search-modal-close" onclick="closeSearchModal()">✕</button>
        </div>
        <div class="search-modal-content" id="searchResults"></div>
    </div>

    <!-- 플로팅 버튼 (모든 페이지에서 표시) -->
    <div id="floatingBtn" class="floating-btn" onclick="openMapModal()">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="white" stroke="none">
        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
    </svg>
    <span>Directions</span>
</div>

   <!-- 지도 모달 -->
<div id="mapModal" class="map-modal">
    
    <!-- 드래그 핸들 -->
    <div class="map-modal-drag-handle">
        <div class="map-modal-drag-bar"></div>
    </div>
    
    <!-- 지도 영역 -->
    <div id="mapContainer" class="map-container"></div>
    
    <!-- 카테고리 필터 (지도 위에 배치) -->
    <div class="map-category-filter">
        <button class="map-filter-btn active" data-category="all" onclick="filterMapCategory('all')">
            전체
        </button>
        <button class="map-filter-btn" data-category="nail" onclick="filterMapCategory('nail')">
            <img src="img/icn_nail.png" alt="네일샵">
            네일샵
        </button>
        <button class="map-filter-btn" data-category="glasses" onclick="filterMapCategory('glasses')">
            <img src="img/icn_glasses.png" alt="안경점">
            안경점
        </button>
        <button class="map-filter-btn" data-category="dessert" onclick="filterMapCategory('dessert')">
            <img src="img/icn_dessert.png" alt="디저트">
            디저트
        </button>
        <button class="map-filter-btn" data-category="hanbok" onclick="filterMapCategory('hanbok')">
            <img src="img/icn_hanbok.png" alt="한복">
            한복
        </button>
        <button class="map-filter-btn" data-category="vintage" onclick="filterMapCategory('vintage')">
            <img src="img/icn_vintage.png" alt="빈티지">
            빈티지
        </button>
        <button class="map-filter-btn" data-category="goods" onclick="filterMapCategory('goods')">
            <img src="img/icn_goods.png" alt="굿즈">
            굿즈
        </button>
    </div>
    
    <!-- 길찾기 버튼 -->
    <button class="directions-btn" onclick="openDirections(event)" title="길찾기">
        <img src="/img/directions.png" alt="길찾기">
    </button>
    
    <!-- 내 위치 버튼 -->
    <button class="my-location-btn" onclick="goToMyLocation()" title="내 위치로 이동">
        <svg viewBox="0 0 24 24" fill="#4285F4">
            <path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>
        </svg>
    </button>
    
    <!-- 가게 정보 카드 (마커 클릭 시 표시) -->
<div id="shopInfoCard" class="shop-info-card hidden">
    <!-- 닫기 버튼 -->
    <button class="shop-info-close" onclick="hideShopInfoCard()">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
    </svg>
</button>
    
    <!-- 이미지 래퍼 (카드 안) -->
    <div class="shop-info-images-wrapper" id="shopInfoImagesWrapper">
        <div class="shop-info-images" id="shopInfoImages">
            <!-- 이미지 -->
        </div>
        <!-- indicators -->
    </div>
    
    <!-- 텍스트 콘텐츠 (카드 안) -->
    <div class="shop-info-content" onclick="goToShopDetail()">
        <div class="shop-info-name" id="shopInfoName"></div>
        <div class="shop-info-location" id="shopInfoLocation"></div>
        <div class="shop-info-price" id="shopInfoPrice"></div>
    </div>
</div>
</div>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBpRKt46l1csDfD8pdp-224Yss-LPuGXew&callback=initializeApp" async defer></script>
    <script src="js/app.js"></script>
</body>
</html>